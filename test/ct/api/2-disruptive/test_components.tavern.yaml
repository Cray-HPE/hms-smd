# MIT License
#
# (C) Copyright [2022] Hewlett Packard Enterprise Development LP
#
# Permission is hereby granted, free of charge, to any person obtaining a
# copy of this software and associated documentation files (the "Software"),
# to deal in the Software without restriction, including without limitation
# the rights to use, copy, modify, merge, publish, distribute, sublicense,
# and/or sell copies of the Software, and to permit persons to whom the
# Software is furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included
# in all copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
# OTHER DEALINGS IN THE SOFTWARE.

# Tavern test cases for the Hardware State Manager (HSM) service API
# Author: Mitch Schooler
# Service: Hardware State Manager

# HMS test metrics test cases: TODO
# TODO. DELETE /State/Components API response code
# TODO. DELETE /State/Components API response body
# TODO. DELETE /State/Components No Components API response code
# TODO. DELETE /State/Components No Components API response body

# TODO. POST /State/Components Node API response code
# TODO. POST /State/Components Node API response body
# TODO. GET /State/Components API response code
# TODO. GET /State/Components API response body
# TODO. GET /State/Components?id={id} Node Parameter API response code
# TODO. GET /State/Components?id={id} Node Parameter API response body

# TODO. PUT /State/Components/{xname} Existing Node No Force API response code
# TODO. PUT /State/Components/{xname} Existing Node No Force API response body
# TODO. GET /State/Components/{xname} Node API response code
# TODO. GET /State/Components/{xname} Node API response body
# TODO. PUT /State/Components/{xname} Existing Node Force API response code
# TODO. PUT /State/Components/{xname} Existing Node Force API response body
# TODO. GET /State/Components/{xname} Node API response code
# TODO. GET /State/Components/{xname} Node API response body

# TODO. DELETE /State/Components/{xname} Node API response code
# TODO. DELETE /State/Components/{xname} Node API response body
# TODO. DELETE /State/Components/{xname} Missing Node API response code
# TODO. DELETE /State/Components/{xname} Missing Node API response body
# TODO. GET /State/Components/{xname} Missing Node API response code
# TODO. GET /State/Components/{xname} Missing Node API response body
# TODO. GET /State/Components/ByNID/{nid} Missing NID API response code
# TODO. GET /State/Components/ByNID/{nid} Missing NID API response body

# TODO. PUT /State/Components/{xname} Non-Existing Node API response code
# TODO. PUT /State/Components/{xname} Non-Existing Node API response body
# TODO. GET /State/Components/{xname} Node API response code
# TODO. GET /State/Components/{xname} Node API response body
# TODO. DELETE /State/Components API response code
# TODO. DELETE /State/Components API response body

# TODO. POST /State/Components NodeBMC API response code
# TODO. POST /State/Components NodeBMC API response body
# TODO. POST /State/Components NodeBMC Existing NodeBMC No Force API response code
# TODO. POST /State/Components NodeBMC Existing NodeBMC No Force API response body
# TODO. GET /State/Components/{xname} NodeBMC API response code
# TODO. GET /State/Components/{xname} NodeBMC API response body
# TODO. POST /State/Components NodeBMC Existing NodeBMC Force API response code
# TODO. POST /State/Components NodeBMC Existing NodeBMC Force API response body
# TODO. GET /State/Components/{xname} NodeBMC API response code
# TODO. GET /State/Components/{xname} NodeBMC API response body

# TODO. POST /State/Components Nodes API response code
# TODO. POST /State/Components Nodes API response body
# TODO. POST /State/Components NodeEnclosure API response code
# TODO. POST /State/Components NodeEnclosure API response body
# TODO. POST /State/Components RouterBMC and RouterModule API response code
# TODO. POST /State/Components RouterBMC and RouterModule API response body
# TODO. POST /State/Components Chassis and ChassisBMC API response code
# TODO. POST /State/Components Chassis and ChassisBMC API response body
# TODO. POST /State/Components HSNBoard and CabinetPDUController API response code
# TODO. POST /State/Components HSNBoard and CabinetPDUController API response body

# TODO. GET /State/Components?type={type} CabinetPDUController Parameter API response code
# TODO. GET /State/Components?type={type} CabinetPDUController Parameter API response body
# TODO. GET /State/Components?type={type} ChassisBMC Parameter API response code
# TODO. GET /State/Components?type={type} ChassisBMC Parameter API response body
# TODO. GET /State/Components?type={type} Chassis Parameter API response code
# TODO. GET /State/Components?type={type} Chassis Parameter API response body
# TODO. GET /State/Components?type={type} HSNBoard Parameter API response code
# TODO. GET /State/Components?type={type} HSNBoard Parameter API response body
# TODO. GET /State/Components?type={type} NodeBMC Parameter API response code
# TODO. GET /State/Components?type={type} NodeBMC Parameter API response body
# TODO. GET /State/Components?type={type} NodeEnclosure Parameter API response code
# TODO. GET /State/Components?type={type} NodeEnclosure Parameter API response body
# TODO. GET /State/Components?type={type} Node Parameter API response code
# TODO. GET /State/Components?type={type} Node Parameter API response body
# TODO. GET /State/Components?type={type} RouterBMC Parameter API response code
# TODO. GET /State/Components?type={type} RouterBMC Parameter API response body
# TODO. GET /State/Components?type={type} RouterModule Parameter API response code
# TODO. GET /State/Components?type={type} RouterModule Parameter API response body

# TODO. GET /State/Components?state={state} Unknown Parameter API response code
# TODO. GET /State/Components?state={state} Unknown Parameter API response body
# TODO. GET /State/Components?state={state} Empty Parameter API response code
# TODO. GET /State/Components?state={state} Empty Parameter API response body
# TODO. GET /State/Components?state={state} Populated Parameter API response code
# TODO. GET /State/Components?state={state} Populated Parameter API response body
# TODO. GET /State/Components?state={state} Off Parameter API response code
# TODO. GET /State/Components?state={state} Off Parameter API response body
# TODO. GET /State/Components?state={state} On Parameter API response code
# TODO. GET /State/Components?state={state} On Parameter API response body
# TODO. GET /State/Components?state={state} Standby Parameter API response code
# TODO. GET /State/Components?state={state} Standby Parameter API response body
# TODO. GET /State/Components?state={state} Halt Parameter API response code
# TODO. GET /State/Components?state={state} Halt Parameter API response body
# TODO. GET /State/Components?state={state} Ready Parameter API response code
# TODO. GET /State/Components?state={state} Ready Parameter API response body

# TODO. GET /State/Components?flag={flag} OK Parameter API response code
# TODO. GET /State/Components?flag={flag} OK Parameter API response body
# TODO. GET /State/Components?flag={flag} Warning Parameter API response code
# TODO. GET /State/Components?flag={flag} Warning Parameter API response body
# TODO. GET /State/Components?flag={flag} Alert Parameter API response code
# TODO. GET /State/Components?flag={flag} Alert Parameter API response body
# TODO. GET /State/Components?flag={flag} Locked Parameter API response code
# TODO. GET /State/Components?flag={flag} Locked Parameter API response body

# TODO. GET /State/Components?role={role} Compute Parameter API response code
# TODO. GET /State/Components?role={role} Compute Parameter API response body
# TODO. GET /State/Components?role={role} Service Parameter API response code
# TODO. GET /State/Components?role={role} Service Parameter API response body
# TODO. GET /State/Components?role={role} System Parameter API response code
# TODO. GET /State/Components?role={role} System Parameter API response body
# TODO. GET /State/Components?role={role} Application Parameter API response code
# TODO. GET /State/Components?role={role} Application Parameter API response body
# TODO. GET /State/Components?role={role} Storage Parameter API response code
# TODO. GET /State/Components?role={role} Storage Parameter API response body
# TODO. GET /State/Components?role={role} Management Parameter API response code
# TODO. GET /State/Components?role={role} Management Parameter API response body

# TODO. GET /State/Components?subrole={subrole} Master Parameter API response code
# TODO. GET /State/Components?subrole={subrole} Master Parameter API response body
# TODO. GET /State/Components?subrole={subrole} Worker Parameter API response code
# TODO. GET /State/Components?subrole={subrole} Worker Parameter API response body
# TODO. GET /State/Components?subrole={subrole} Storage Parameter API response code
# TODO. GET /State/Components?subrole={subrole} Storage Parameter API response body

# TODO. GET /State/Components?enabled={enabled} True Parameter API response code
# TODO. GET /State/Components?enabled={enabled} True Parameter API response body
# TODO. GET /State/Components?enabled={enabled} False Parameter API response code
# TODO. GET /State/Components?enabled={enabled} False Parameter API response body

# TODO. GET /State/Components?softwarestatus={softwarestatus} TestStatus Parameter API response code
# TODO. GET /State/Components?softwarestatus={softwarestatus} TestStatus Parameter API response body

# TODO. GET /State/Components?arch={arch} X86 Parameter API response code
# TODO. GET /State/Components?arch={arch} X86 Parameter API response body
# TODO. GET /State/Components?arch={arch} ARM Parameter API response code
# TODO. GET /State/Components?arch={arch} ARM Parameter API response body
# TODO. GET /State/Components?arch={arch} Other Parameter API response code
# TODO. GET /State/Components?arch={arch} Other Parameter API response body

# TODO. GET /State/Components?class={class} River Parameter API response code
# TODO. GET /State/Components?class={class} River Parameter API response body
# TODO. GET /State/Components?class={class} Mountain Parameter API response code
# TODO. GET /State/Components?class={class} Mountain Parameter API response body
# TODO. GET /State/Components?class={class} Hill Parameter API response code
# TODO. GET /State/Components?class={class} Hill Parameter API response body

#TODO
    # GET /State/Components?
    # nid
    # nid_start
    # nid_end
    # partition
    # group
    # multi/most params in one

# TODO. GET /State/Components/ByNID/{nid} Existing NodeA API response code
# TODO. GET /State/Components/ByNID/{nid} Existing NodeA API response body
# TODO. GET /State/Components/ByNID/{nid} Exisitng NodeB API response code
# TODO. GET /State/Components/ByNID/{nid} Existing NodeB API response body

# TODO. POST /State/Components Nodes For Bulk Updates API response code
# TODO. POST /State/Components Nodes For Bulk Updates API response body

# TODO. PATCH /State/Components/BulkStateData Nodes State Flag API response code
# TODO. PATCH /State/Components/BulkStateData Nodes State Flag API response body
# TODO. GET /State/Components/{xname} Updated BulkStateData NodeA API response code
# TODO. GET /State/Components/{xname} Updated BulkStateData NodeA API response body
# TODO. GET /State/Components/{xname} Updated BulkStateData NodeB API response code
# TODO. GET /State/Components/{xname} Updated BulkStateData NodeB API response body
# TODO. GET /State/Components/{xname} Non-Updated BulkStateData Node API response code
# TODO. GET /State/Components/{xname} Non-Updated BulkStateData Node API response body

# TODO. PATCH /State/Components/{xname}/StateData Node State No Flag API response code
# TODO. PATCH /State/Components/{xname}/StateData Node State No Flag API response body
# TODO. GET /State/Components?stateonly=True Updated Node API response code
# TODO. GET /State/Components?stateonly=True Updated Node API response body
# TODO. GET /State/Components?flagonly=True Updated Node API response code
# TODO. GET /State/Components?flagonly=True Updated Node API response body
# TODO. GET /State/Components?roleonly=True Updated Node API response code
# TODO. GET /State/Components?roleonly=True Updated Node API response body
# TODO. GET /State/Components?nidonly=True Updated Node API response code
# TODO. GET /State/Components?nidonly=True Updated Node API response body

# TODO. PATCH /State/Components/BulkFlagOnly Nodes API response code
# TODO. PATCH /State/Components/BulkFlagOnly Nodes API response body
# TODO. GET /State/Components/{xname} Updated BulkFlagOnly NodeA API response code
# TODO. GET /State/Components/{xname} Updated BulkFlagOnly NodeA API response body
# TODO. GET /State/Components/{xname} Updated BulkFlagOnly NodeB API response code
# TODO. GET /State/Components/{xname} Updated BulkFlagOnly NodeB API response body
# TODO. GET /State/Components/{xname} Non-Updated BulkFlagOnly Node API response code
# TODO. GET /State/Components/{xname} Non-Updated BulkFlagOnly Node API response body

---
test_name: hsmAPIStateComponents

stages:
  #TODO. DELETE /State/Components API response code
  #TODO. DELETE /State/Components API response body
  - name: hsmAPIStateComponentsDELETE - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: DELETE
      verify: !bool "{verify}"

  #TODO. DELETE /State/Components No Components API response code
  #TODO. DELETE /State/Components No Components API response body
  - name: hsmAPIStateComponentsDELETEnoComponents - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: DELETE
      verify: !bool "{verify}"
    response:
      status_code: 404
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              type:
                type: str
                required: True
                enum:
                  - "about:blank"
              title:
                type: str
                required: True
                enum:
                  - "Not Found"
              detail:
                type: str
                required: True
                enum:
                  - "no entries to delete"
              status:
                type: int
                required: True
                enum:
                  #TODO: Does Not Exist example in Swagger shows 400
                  - 404

  # TODO. POST /State/Components Node API response code
  # TODO. POST /State/Components Node API response body
  - name: hsmAPIStateComponentsPOSTnode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: POST
      verify: !bool "{verify}"
      json: {"Components":[{"ID":"x9999c7s9b9n9","Type":"Node","State":"On","Flag":"OK","Enabled":true,"SoftwareStatus":"AdminStatus","Role":"Compute","NID":9999999999,"NetType":"Sling","Arch":"X86","Class":"River"}],"Force":false}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. GET /State/Components API response code
  # TODO. GET /State/Components API response body
  - name: hsmAPIStateComponentsGET - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      json:
        Components: !anything

  # TODO. GET /State/Components?id={id} Node Parameter API response code
  # TODO. GET /State/Components?id={id} Node Parameter API response body
  - name: hsmAPIStateComponentsGETidParamNode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?id=x9999c7s9b9n9"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n9"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "On"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "AdminStatus"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Compute"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999999
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "River"

  # TODO. PUT /State/Components/{xname} Existing Node No Force API response code
  # TODO. PUT /State/Components/{xname} Existing Node No Force API response body
  - name: hsmAPIStateComponentsPUTnodeExistsNoForce - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b9n9"
      method: PUT
      verify: !bool "{verify}"
      json: {"Component":{"ID":"x9999c7s9b9n9","Type":"Node","State":"Standby","Flag":"Alert","Enabled":true,"SoftwareStatus":"AdminStatus","Role":"Compute","NID":9999999999,"NetType":"Infiniband","Arch":"ARM","Class":"River"},"Force":false}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. GET /State/Components/{xname} Node API response code
  # TODO. GET /State/Components/{xname} Node API response body
  - name: hsmAPIStateComponentsGETxnameNode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b9n9"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              ID:
                type: str
                required: True
                enum:
                  - "x9999c7s9b9n9"
              Type:
                type: str
                required: True
                enum:
                  - "Node"
              State:
                type: str
                required: True
                enum:
                  - "On"
              Flag:
                type: str
                required: True
                enum:
                  - "OK"
              Enabled:
                type: bool
                required: True
              SoftwareStatus:
                type: str
                required: True
                enum:
                  - "AdminStatus"
              Role:
                type: str
                required: True
                enum:
                  - "Compute"
              NID:
                type: int
                required: True
                enum:
                  - 9999999999
              NetType:
                type: str
                required: True
                enum:
                  - "Sling"
              Arch:
                type: str
                required: True
                enum:
                  - "X86"
              Class:
                type: str
                required: True
                enum:
                  - "River"

  # TODO. PUT /State/Components/{xname} Existing Node Force API response code
  # TODO. PUT /State/Components/{xname} Existing Node Force API response body
  - name: hsmAPIStateComponentsPUTnodeExistsForce - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b9n9"
      method: PUT
      verify: !bool "{verify}"
      json: {"Component":{"ID":"x9999c7s9b9n9","Type":"Node","State":"Standby","Flag":"Alert","Enabled":true,"SoftwareStatus":"AdminStatus","Role":"Compute","NID":9999999999,"NetType":"Infiniband","Arch":"ARM","Class":"River"},"Force":true}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. GET /State/Components/{xname} Node API response code
  # TODO. GET /State/Components/{xname} Node API response body
  - name: hsmAPIStateComponentsGETxnameNode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b9n9"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              ID:
                type: str
                required: True
                enum:
                  - "x9999c7s9b9n9"
              Type:
                type: str
                required: True
                enum:
                  - "Node"
              State:
                type: str
                required: True
                enum:
                  - "Standby"
              Flag:
                type: str
                required: True
                enum:
                  - "Alert"
              Enabled:
                type: bool
                required: True
              SoftwareStatus:
                type: str
                required: True
                enum:
                  - "AdminStatus"
              Role:
                type: str
                required: True
                enum:
                  - "Compute"
              NID:
                type: int
                required: True
                enum:
                  - 9999999999
              NetType:
                type: str
                required: True
                enum:
                  - "Infiniband"
              Arch:
                type: str
                required: True
                enum:
                  - "ARM"
              Class:
                type: str
                required: True
                enum:
                  - "River"

  # TODO. DELETE /State/Components/{xname} Node API response code
  # TODO. DELETE /State/Components/{xname} Node API response body
  - name: hsmAPIStateComponentsDELETExname - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b9n9"
      method: DELETE
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              code:
                type: int
                required: True
                enum:
                  - 0
              message:
                type: str
                required: True
                enum:
                  - "deleted 1 entry"

  # TODO. DELETE /State/Components/{xname} Missing Node API response code
  # TODO. DELETE /State/Components/{xname} Missing Node API response body
  - name: hsmAPIStateComponentsDELETExnameMissing - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b9n9"
      method: DELETE
      verify: !bool "{verify}"
    response:
      status_code: 404
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              type:
                type: str
                required: True
                enum:
                  - "about:blank"
              title:
                type: str
                required: True
                enum:
                  - "Not Found"
              detail:
                type: str
                required: True
                enum:
                  - "no such xname."
              status:
                type: int
                required: True
                enum:
                  #TODO: Does Not Exist example in Swagger shows 400
                  - 404

  # TODO. GET /State/Components/{xname} Missing Node API response code
  # TODO. GET /State/Components/{xname} Missing Node API response body
  - name: hsmAPIStateComponentsGETidMissingNode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b9n9"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 404
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              type:
                type: str
                required: True
                enum:
                  - "about:blank"
              title:
                type: str
                required: True
                enum:
                  - "Not Found"
              detail:
                type: str
                required: True
                enum:
                  - "no such xname."
              status:
                type: int
                required: True
                enum:
                  #TODO: Does Not Exist example in Swagger shows 400
                  - 404

  # TODO. GET /State/Components/ByNID/{nid} Missing NID API response code
  # TODO. GET /State/Components/ByNID/{nid} Missing NID API response body
  - name: hsmAPIStateComponentsByNidGETmissingNid - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/ByNID/9999999999"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 404
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              type:
                type: str
                required: True
                enum:
                  - "about:blank"
              title:
                type: str
                required: True
                enum:
                  - "Not Found"
              detail:
                type: str
                required: True
                enum:
                  - "no such NID."
              status:
                type: int
                required: True
                enum:
                  #TODO: Does Not Exist example in Swagger shows 400
                  - 404

  # TODO. PUT /State/Components/{xname} Non-Existing Node API response code
  # TODO. PUT /State/Components/{xname} Non-Existing Node API response body
  - name: hsmAPIStateComponentsPUTdoesntExistNoForce - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b9n9"
      method: PUT
      verify: !bool "{verify}"
      json: {"Component":{"ID":"x9999c7s9b9n9","Type":"Node","State":"Ready","Flag":"OK","Enabled":true,"SoftwareStatus":"AdminStatus","Role":"Compute","NID":9999999999,"NetType":"Ethernet","Arch":"Other","Class":"River"},"Force":false}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. GET /State/Components/{xname} Node API response code
  # TODO. GET /State/Components/{xname} Node API response body
  - name: hsmAPIStateComponentsGETxnameNode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b9n9"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              ID:
                type: str
                required: True
                enum:
                  - "x9999c7s9b9n9"
              Type:
                type: str
                required: True
                enum:
                  - "Node"
              State:
                type: str
                required: True
                enum:
                  - "Ready"
              Flag:
                type: str
                required: True
                enum:
                  - "OK"
              Enabled:
                type: bool
                required: True
              SoftwareStatus:
                type: str
                required: True
                enum:
                  - "AdminStatus"
              Role:
                type: str
                required: True
                enum:
                  - "Compute"
              NID:
                type: int
                required: True
                enum:
                  - 9999999999
              NetType:
                type: str
                required: True
                enum:
                  - "Ethernet"
              Arch:
                type: str
                required: True
                enum:
                  - "Other"
              Class:
                type: str
                required: True
                enum:
                  - "River"

  # TODO. DELETE /State/Components API response code
  # TODO. DELETE /State/Components API response body
  - name: hsmAPIStateComponentsDELETE - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: DELETE
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              code:
                type: int
                required: True
                enum:
                  - 0
              message:
                type: str
                required: True
                enum:
                  - "deleted 1 entries"

  # TODO. POST /State/Components NodeBMC API response code
  # TODO. POST /State/Components NodeBMC API response body
  - name: hsmAPIStateComponentsPOSTnodeBMC - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: POST
      verify: !bool "{verify}"
      json: {"Components":[{"ID":"x9999c7s9b9","Type":"NodeBMC","State":"Ready","Flag":"OK","Enabled":true,"Role":"Management","NetType":"Sling","Arch":"X86","Class":"River","Locked":false}],"Force":false}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. POST /State/Components NodeBMC Existing NodeBMC No Force API response code
  # TODO. POST /State/Components NodeBMC Existing NodeBMC No Force API response body
  - name: hsmAPIStateComponentsPOSTnodeBMCexistsNoForce - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: POST
      verify: !bool "{verify}"
      json: {"Components":[{"ID":"x9999c7s9b9","Type":"NodeBMC","State":"Off","Flag":"Warning","Enabled":false,"Role":"Management","NetType":"Infiniband","Arch":"ARM","Class":"Mountain","Locked":true}],"Force":false}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. GET /State/Components/{xname} NodeBMC API response code
  # TODO. GET /State/Components/{xname} NodeBMC API response body
  - name: hsmAPIStateComponentsGETxnameNodeBMC - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b9"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              ID:
                type: str
                required: True
                enum:
                  - "x9999c7s9b9"
              Type:
                type: str
                required: True
                enum:
                  - "NodeBMC"
              State:
                type: str
                required: True
                enum:
                  - "Ready"
              Flag:
                type: str
                required: True
                enum:
                  - "OK"
              Enabled:
                type: bool
                required: True
              Role:
                type: str
                required: True
                enum:
                  - "Management"
              NetType:
                type: str
                required: True
                enum:
                  - "Sling"
              Arch:
                type: str
                required: True
                enum:
                  - "X86"
              Class:
                type: str
                required: True
                enum:
                  - "River"

  # TODO. POST /State/Components NodeBMC Existing NodeBMC Force API response code
  # TODO. POST /State/Components NodeBMC Existing NodeBMC Force API response body
  - name: hsmAPIStateComponentsPOSTnodeBMCexistsForce - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: POST
      verify: !bool "{verify}"
      json: {"Components":[{"ID":"x9999c7s9b9","Type":"NodeBMC","State":"Off","Flag":"Warning","Enabled":false,"Role":"Management","NetType":"Infiniband","Arch":"ARM","Class":"Mountain","Locked":true}],"Force":true}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. GET /State/Components/{xname} NodeBMC API response code
  # TODO. GET /State/Components/{xname} NodeBMC API response body
  - name: hsmAPIStateComponentsGETxnameNodeBMC - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b9"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              ID:
                type: str
                required: True
                enum:
                  - "x9999c7s9b9"
              Type:
                type: str
                required: True
                enum:
                  - "NodeBMC"
              State:
                type: str
                required: True
                enum:
                  - "Off"
              Flag:
                type: str
                required: True
                enum:
                  - "Warning"
              Enabled:
                type: bool
                required: True
              Role:
                type: str
                required: True
                enum:
                  - "Management"
              NetType:
                type: str
                required: True
                enum:
                  - "Infiniband"
              Arch:
                type: str
                required: True
                enum:
                  - "ARM"
              Class:
                type: str
                required: True
                enum:
                  #TODO: Swagger says "If the component already exists it will not be overwritten unless force=true
                  # in which case State, Flag, Subtype, NetType, and Arch will get overwritten." This test case shows
                  # that Class also gets overwritten.
                  #- "River"
                  - "Mountain"

  # TODO. POST /State/Components Nodes API response code
  # TODO. POST /State/Components Nodes API response body
  - name: hsmAPIStateComponentsPOSTnodes - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: POST
      verify: !bool "{verify}"
      #TODO: Enum for Flag missing Unknown in Swagger
      #TODO: Enum for Arch missing Unknown in Swagger
      json: {"Components":[{"ID":"x9999c7s9b9n8","Type":"Node","State":"Unknown","Flag":"Unknown","Enabled":true,"SoftwareStatus":"TestStatus8","Role":"Compute","SubRole":"Master","NID":9999999998,"NetType":"Sling","Arch":"X86","Class":"River"},{"ID":"x9999c7s9b9n7","Type":"Node","State":"Empty","Flag":"OK","Enabled":true,"SoftwareStatus":"TestStatus7","Role":"Service","SubRole":"Worker","NID":9999999997,"NetType":"Infiniband","Arch":"X86","Class":"River"},{"ID":"x9999c7s9b9n6","Type":"Node","State":"Populated","Flag":"Warning","Enabled":true,"SoftwareStatus":"TestStatus6","Role":"System","SubRole":"Storage","NID":9999999996,"NetType":"Ethernet","Arch":"ARM","Class":"River"},{"ID":"x9999c7s9b9n5","Type":"Node","State":"Off","Flag":"Warn","Enabled":true,"SoftwareStatus":"TestStatus5","Role":"Application","SubRole":"Master","NID":9999999995,"NetType":"OEM","Arch":"ARM","Class":"Mountain"},{"ID":"x9999c7s9b9n4","Type":"Node","State":"On","Flag":"Alert","Enabled":false,"SoftwareStatus":"TestStatus4","Role":"Storage","SubRole":"Worker","NID":9999999994,"NetType":"None","Arch":"Other","Class":"Mountain"},{"ID":"x9999c7s9b9n3","Type":"Node","State":"Standby","Flag":"Locked","Enabled":false,"SoftwareStatus":"TestStatus3","Role":"Management","SubRole":"Storage","NID":9999999993,"NetType":"Sling","Arch":"Other","Class":"Mountain"},{"ID":"x9999c7s9b9n2","Type":"Node","State":"Halt","Flag":"OK","Enabled":false,"SoftwareStatus":"TestStatus2","Role":"Compute","SubRole":"Master","NID":9999999992,"NetType":"Sling","Arch":"Unknown","Class":"Hill"},{"ID":"x9999c7s9b9n1","Type":"Node","State":"Ready","Flag":"OK","Enabled":false,"SoftwareStatus":"TestStatus1","Role":"Compute","SubRole":"Worker","NID":9999999991,"NetType":"Sling","Arch":"Unknown","Class":"Hill"},{"ID":"x9999c7s9b9n0","Type":"Node","State":"Ready","Flag":"OK","Enabled":true,"SoftwareStatus":"TestStatus0","Role":"Compute","SubRole":"Storage","NID":9999999990,"NetType":"Sling","Arch":"X86","Class":"Hill"}],"Force":false}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. POST /State/Components NodeEnclosure API response code
  # TODO. POST /State/Components NodeEnclosure API response body
  - name: hsmAPIStateComponentsPOSTnodeEnclosure - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: POST
      verify: !bool "{verify}"
      json: {"Components":[{"ID":"x9999c7s9e9","Type":"NodeEnclosure","State":"On","Flag":"OK","Enabled":false,"NetType":"Sling","Arch":"X86","Class":"Mountain"}],"Force":false}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. POST /State/Components RouterBMC and RouterModule API response code
  # TODO. POST /State/Components RouterBMC and RouterModule API response body
  - name: hsmAPIStateComponentsPOSTrouterBMCandRouterModule - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: POST
      verify: !bool "{verify}"
      json: {"Components":[{"ID":"x9999c7r9b9","Type":"RouterBMC","State":"Ready","Flag":"OK","Enabled":true,"NetType":"Sling","Arch":"X86","Class":"Mountain"},{"ID":"x9999c7r9","Type":"RouterModule","State":"Empty","Flag":"OK","Enabled":true,"NetType":"Sling","Arch":"X86","Class":"Mountain"}],"Force":false}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. POST /State/Components Chassis and ChassisBMC API response code
  # TODO. POST /State/Components Chassis and ChassisBMC API response body
  - name: hsmAPIStateComponentsPOSTchassisAndChassisBMC - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: POST
      verify: !bool "{verify}"
      json: {"Components":[{"ID":"x9999c7","Type":"Chassis","State":"Off","Flag":"OK","Enabled":true,"NetType":"Sling","Arch":"X86","Class":"Mountain"},{"ID":"x9999c7b0","Type":"ChassisBMC","State":"Ready","Flag":"OK","Enabled":true,"NetType":"Sling","Arch":"X86","Class":"Mountain"}],"Force":false}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. POST /State/Components HSNBoard and CabinetPDUController API response code
  # TODO. POST /State/Components HSNBoard and CabinetPDUController API response body
  - name: hsmAPIStateComponentsPOSThsnBoardandCabinetPDUController - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: POST
      verify: !bool "{verify}"
      json: {"Components":[{"ID":"x9999c7r9e9","Type":"HSNBoard","State":"On","Flag":"Warning","Enabled":false,"NetType":"Sling","Arch":"X86","Class":"River"},{"ID":"x9999m3","Type":"CabinetPDUController","State":"Ready","Flag":"OK","Enabled":true,"NetType":"Infiniband","Arch":"X86"}],"Force":false}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. GET /State/Components?type={type} CabinetPDUController Parameter API response code
  # TODO. GET /State/Components?type={type} CabinetPDUController Parameter API response body
  - name: hsmAPIStateComponentsGETtypeParamCabinetPDUController - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?type=CabinetPDUController"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999m3"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "CabinetPDUController"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Ready"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Infiniband"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"

  # TODO. GET /State/Components?type={type} ChassisBMC Parameter API response code
  # TODO. GET /State/Components?type={type} ChassisBMC Parameter API response body
  - name: hsmAPIStateComponentsGETtypeParamChassisBMC - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?type=ChassisBMC"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7b0"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "ChassisBMC"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Ready"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?type={type} Chassis Parameter API response code
  # TODO. GET /State/Components?type={type} Chassis Parameter API response body
  - name: hsmAPIStateComponentsGETtypeParamChassis - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?type=Chassis"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Chassis"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Off"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?type={type} HSNBoard Parameter API response code
  # TODO. GET /State/Components?type={type} HSNBoard Parameter API response body
  - name: hsmAPIStateComponentsGETtypeParamHSNBoard - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?type=HSNBoard"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7r9e9"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "HSNBoard"
                      State:
                        type: str
                        required: True
                        enum:
                          - "On"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "Warning"
                      Enabled:
                        type: bool
                        required: True
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "River"

  # TODO. GET /State/Components?type={type} NodeBMC Parameter API response code
  # TODO. GET /State/Components?type={type} NodeBMC Parameter API response body
  - name: hsmAPIStateComponentsGETtypeParamNodeBMC - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?type=NodeBMC"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "NodeBMC"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Off"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "Warning"
                      Enabled:
                        type: bool
                        required: True
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Management"
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Infiniband"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "ARM"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?type={type} NodeEnclosure Parameter API response code
  # TODO. GET /State/Components?type={type} NodeEnclosure Parameter API response body
  - name: hsmAPIStateComponentsGETtypeParamNodeEnclosure - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?type=NodeEnclosure"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9e9"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "NodeEnclosure"
                      State:
                        type: str
                        required: True
                        enum:
                          - "On"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?type={type} Node Parameter API response code
  # TODO. GET /State/Components?type={type} Node Parameter API response body
  - name: hsmAPIStateComponentsGETtypeParamNode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?type=Node"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        pattern: "^x([0-9]{{1,4}})c([0-7])s([0-9]+)b([0-9]+)n([0-9]+)$"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                      Role:
                        type: str
                        required: True
                      SubRole:
                        type: str
                        required: True
                      NID:
                        type: int
                        required: True
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True

  # TODO. GET /State/Components?type={type} RouterBMC Parameter API response code
  # TODO. GET /State/Components?type={type} RouterBMC Parameter API response body
  - name: hsmAPIStateComponentsGETtypeParamRouterBMC - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?type=RouterBMC"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7r9b9"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "RouterBMC"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Ready"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?type={type} RouterModule Parameter API response code
  # TODO. GET /State/Components?type={type} RouterModule Parameter API response body
  - name: hsmAPIStateComponentsGETtypeParamRouterModule - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?type=RouterModule"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7r9"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "RouterModule"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Empty"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?state={state} Unknown Parameter API response code
  # TODO. GET /State/Components?state={state} Unknown Parameter API response body
  - name: hsmAPIStateComponentsGETstateParamUnknown - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?state=Unknown"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n8"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Unknown"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "Unknown"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "TestStatus8"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Compute"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Master"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999998
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "River"

  # TODO. GET /State/Components?state={state} Empty Parameter API response code
  # TODO. GET /State/Components?state={state} Empty Parameter API response body
  - name: hsmAPIStateComponentsGETstateParamEmpty - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?state=Empty"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                        enum:
                          - "Empty"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: True

  # TODO. GET /State/Components?state={state} Populated Parameter API response code
  # TODO. GET /State/Components?state={state} Populated Parameter API response body
  - name: hsmAPIStateComponentsGETstateParamPopulated - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?state=Populated"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n6"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Populated"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "Warning"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "TestStatus6"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "System"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Storage"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999996
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Ethernet"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "ARM"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "River"

  # TODO. GET /State/Components?state={state} Off Parameter API response code
  # TODO. GET /State/Components?state={state} Off Parameter API response body
  - name: hsmAPIStateComponentsGETstateParamOff - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?state=Off"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                        enum:
                          - "Off"
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?state={state} On Parameter API response code
  # TODO. GET /State/Components?state={state} On Parameter API response body
  - name: hsmAPIStateComponentsGETstateParamOn - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?state=On"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                        enum:
                          - "On"
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True

  # TODO. GET /State/Components?state={state} Standby Parameter API response code
  # TODO. GET /State/Components?state={state} Standby Parameter API response body
  - name: hsmAPIStateComponentsGETstateParamStandby - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?state=Standby"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n3"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Standby"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "Locked"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "TestStatus3"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Management"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Storage"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999993
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "Other"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?state={state} Halt Parameter API response code
  # TODO. GET /State/Components?state={state} Halt Parameter API response body
  - name: hsmAPIStateComponentsGETstateParamHalt - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?state=Halt"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n2"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Halt"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "TestStatus2"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Compute"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Master"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999992
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "UNKNOWN"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Hill"

  # TODO. GET /State/Components?state={state} Ready Parameter API response code
  # TODO. GET /State/Components?state={state} Ready Parameter API response body
  - name: hsmAPIStateComponentsGETstateParamReady - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?state=Ready"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                        enum:
                          - "Ready"
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: False

  # TODO. GET /State/Components?flag={flag} OK Parameter API response code
  # TODO. GET /State/Components?flag={flag} OK Parameter API response body
  - name: hsmAPIStateComponentsGETflagParamOK - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?flag=OK"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: False

  # TODO. GET /State/Components?flag={flag} Warning Parameter API response code
  # TODO. GET /State/Components?flag={flag} Warning Parameter API response body
  - name: hsmAPIStateComponentsGETflagParamWarning - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?flag=Warning"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "Warning"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True

  # TODO. GET /State/Components?flag={flag} Alert Parameter API response code
  # TODO. GET /State/Components?flag={flag} Alert Parameter API response body
  - name: hsmAPIStateComponentsGETflagParamAlert - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?flag=Alert"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n4"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "On"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "Alert"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "TestStatus4"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Storage"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Worker"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999994
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "None"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "Other"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?flag={flag} Locked Parameter API response code
  # TODO. GET /State/Components?flag={flag} Locked Parameter API response body
  - name: hsmAPIStateComponentsGETflagParamLocked - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?flag=Locked"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n3"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Standby"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "Locked"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "TestStatus3"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Management"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Storage"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999993
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "Other"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?role={role} Compute Parameter API response code
  # TODO. GET /State/Components?role={role} Compute Parameter API response body
  - name: hsmAPIStateComponentsGETroleParamCompute - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?role=Compute"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Compute"
                      SubRole:
                        type: str
                        required: True
                      NID:
                        type: int
                        required: True
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True

  # TODO. GET /State/Components?role={role} Service Parameter API response code
  # TODO. GET /State/Components?role={role} Service Parameter API response body
  - name: hsmAPIStateComponentsGETroleParamService - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?role=Service"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n7"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Empty"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "TestStatus7"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Service"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Worker"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999997
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Infiniband"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "River"

  # TODO. GET /State/Components?role={role} System Parameter API response code
  # TODO. GET /State/Components?role={role} System Parameter API response body
  - name: hsmAPIStateComponentsGETroleParamSystem - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?role=System"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n6"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Populated"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "Warning"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "TestStatus6"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "System"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Storage"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999996
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Ethernet"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "ARM"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "River"

  # TODO. GET /State/Components?role={role} Application Parameter API response code
  # TODO. GET /State/Components?role={role} Application Parameter API response body
  - name: hsmAPIStateComponentsGETroleParamApplication - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?role=Application"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n5"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Off"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "Warning"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "TestStatus5"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Application"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Master"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999995
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "OEM"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "ARM"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?role={role} Storage Parameter API response code
  # TODO. GET /State/Components?role={role} Storage Parameter API response body
  - name: hsmAPIStateComponentsGETroleParamStorage - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?role=Storage"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n4"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "On"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "Alert"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "TestStatus4"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Storage"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Worker"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999994
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "None"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "Other"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?role={role} Management Parameter API response code
  # TODO. GET /State/Components?role={role} Management Parameter API response body
  - name: hsmAPIStateComponentsGETroleParamManagement - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?role=Management"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Management"
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?subrole={subrole} Master Parameter API response code
  # TODO. GET /State/Components?subrole={subrole} Master Parameter API response body
  - name: hsmAPIStateComponentsGETsubroleParamMaster - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?subrole=Master"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                      Role:
                        type: str
                        required: True
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Master"
                      NID:
                        type: int
                        required: True
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True

  # TODO. GET /State/Components?subrole={subrole} Worker Parameter API response code
  # TODO. GET /State/Components?subrole={subrole} Worker Parameter API response body
  - name: hsmAPIStateComponentsGETsubroleParamWorker - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?subrole=Worker"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                      Role:
                        type: str
                        required: True
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Worker"
                      NID:
                        type: int
                        required: True
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True

  # TODO. GET /State/Components?subrole={subrole} Storage Parameter API response code
  # TODO. GET /State/Components?subrole={subrole} Storage Parameter API response body
  - name: hsmAPIStateComponentsGETsubroleParamStorage - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?subrole=Storage"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                      Role:
                        type: str
                        required: True
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Storage"
                      NID:
                        type: int
                        required: True
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True

  # TODO. GET /State/Components?enabled={enabled} True Parameter API response code
  # TODO. GET /State/Components?enabled={enabled} True Parameter API response body
  - name: hsmAPIStateComponentsGETenabledParamTrue - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?enabled=True"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                        enum:
                          - true
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: False

  # TODO. GET /State/Components?enabled={enabled} False Parameter API response code
  # TODO. GET /State/Components?enabled={enabled} False Parameter API response body
  - name: hsmAPIStateComponentsGETenabledParamFalse - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?enabled=False"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                        enum:
                          - false
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: False

  # TODO. GET /State/Components?softwarestatus={softwarestatus} TestStatus Parameter API response code
  # TODO. GET /State/Components?softwarestatus={softwarestatus} TestStatus Parameter API response body
  - name: hsmAPIStateComponentsGETsoftwarestatusParamTestStatus - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?softwarestatus=TestStatus0"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b9n0"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Ready"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: True
                        enum:
                          - "TestStatus0"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "Compute"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Storage"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999990
                      NetType:
                        type: str
                        required: True
                        enum:
                          - "Sling"
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Hill"

  # TODO. GET /State/Components?arch={arch} X86 Parameter API response code
  # TODO. GET /State/Components?arch={arch} X86 Parameter API response body
  - name: hsmAPIStateComponentsGETarchParamX86 - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?arch=X86"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "X86"
                      Class:
                        type: str
                        required: False

  # TODO. GET /State/Components?arch={arch} ARM Parameter API response code
  # TODO. GET /State/Components?arch={arch} ARM Parameter API response body
  - name: hsmAPIStateComponentsGETarchParamARM - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?arch=ARM"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "ARM"
                      Class:
                        type: str
                        required: False

  # TODO. GET /State/Components?arch={arch} Other Parameter API response code
  # TODO. GET /State/Components?arch={arch} Other Parameter API response body
  - name: hsmAPIStateComponentsGETarchParamOther - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?arch=Other"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                        enum:
                          - "Other"
                      Class:
                        type: str
                        required: False

  # TODO. GET /State/Components?class={class} River Parameter API response code
  # TODO. GET /State/Components?class={class} River Parameter API response body
  - name: hsmAPIStateComponentsGETclassParamRiver - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?class=River"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True
                        enum:
                          - "River"

  # TODO. GET /State/Components?class={class} Mountain Parameter API response code
  # TODO. GET /State/Components?class={class} Mountain Parameter API response body
  - name: hsmAPIStateComponentsGETclassParamMountain - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?class=Mountain"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Mountain"

  # TODO. GET /State/Components?class={class} Hill Parameter API response code
  # TODO. GET /State/Components?class={class} Hill Parameter API response body
  - name: hsmAPIStateComponentsGETclassParamHill - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?class=Hill"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                      Type:
                        type: str
                        required: True
                      State:
                        type: str
                        required: True
                      Flag:
                        type: str
                        required: True
                      Enabled:
                        type: bool
                        required: True
                      SoftwareStatus:
                        type: str
                        required: False
                      Role:
                        type: str
                        required: False
                      SubRole:
                        type: str
                        required: False
                      NID:
                        type: int
                        required: False
                      NetType:
                        type: str
                        required: True
                      Arch:
                        type: str
                        required: True
                      Class:
                        type: str
                        required: True
                        enum:
                          - "Hill"

#TODO
    # GET /State/Components?
    # nid
    # nid_start
    # nid_end
    # partition
    # group
    # stateonly
    # flagonly
    # roleonly
    # nidonly
    # multi/most params in one

  # TODO. GET /State/Components/ByNID/{nid} NodeA API response code
  # TODO. GET /State/Components/ByNID/{nid} NodeA API response body
  - name: hsmAPIStateComponentsByNidGETnidNodeA - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/ByNID/9999999990"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              ID:
                type: str
                required: True
                enum:
                  - "x9999c7s9b9n0"
              Type:
                type: str
                required: True
                enum:
                  - "Node"
              State:
                type: str
                required: True
                enum:
                  - "Ready"
              Flag:
                type: str
                required: True
                enum:
                  - "OK"
              Enabled:
                type: bool
                required: True
                enum:
                  - true
              SoftwareStatus:
                type: str
                required: True
                enum:
                  - "TestStatus0"
              Role:
                type: str
                required: True
                enum:
                  - "Compute"
              SubRole:
                type: str
                required: True
                enum:
                  - "Storage"
              NID:
                type: int
                required: True
                enum:
                  - 9999999990
              NetType:
                type: str
                required: True
                enum:
                  - "Sling"
              Arch:
                type: str
                required: True
                enum:
                  - "X86"
              Class:
                type: str
                required: True
                enum:
                  - "Hill"

  # TODO. GET /State/Components/ByNID/{nid} NodeB API response code
  # TODO. GET /State/Components/ByNID/{nid} NodeB API response body
  - name: hsmAPIStateComponentsByNidGETnidNodeB - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/ByNID/9999999998"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              ID:
                type: str
                required: True
                enum:
                  - "x9999c7s9b9n8"
              Type:
                type: str
                required: True
                enum:
                  - "Node"
              State:
                type: str
                required: True
                enum:
                  - "Unknown"
              Flag:
                type: str
                required: True
                enum:
                  - "Unknown"
              Enabled:
                type: bool
                required: True
                enum:
                  - true
              SoftwareStatus:
                type: str
                required: True
                enum:
                  - "TestStatus8"
              Role:
                type: str
                required: True
                enum:
                  - "Compute"
              SubRole:
                type: str
                required: True
                enum:
                  - "Master"
              NID:
                type: int
                required: True
                enum:
                  - 9999999998
              NetType:
                type: str
                required: True
                enum:
                  - "Sling"
              Arch:
                type: str
                required: True
                enum:
                  - "X86"
              Class:
                type: str
                required: True
                enum:
                  - "River"

  # TODO. POST /State/Components Nodes For Bulk Updates API response code
  # TODO. POST /State/Components Nodes For Bulk Updates API response body
  - name: hsmAPIStateComponentsPOSTnodesForBulkUpdates - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components"
      method: POST
      verify: !bool "{verify}"
      json: {"Components":[{"ID":"x9999c7s9b8n8","Type":"Node","State":"Ready","Flag":"OK","Enabled":true,"SoftwareStatus":"TestStatus8","Role":"Compute","SubRole":"Master","NID":9999999988,"NetType":"Sling","Arch":"X86","Class":"River"},{"ID":"x9999c7s9b8n7","Type":"Node","State":"On","Flag":"Alert","Enabled":true,"SoftwareStatus":"TestStatus7","Role":"Service","SubRole":"Worker","NID":9999999987,"NetType":"Infiniband","Arch":"Other","Class":"Mountain"},{"ID":"x9999c7s9b8n6","Type":"Node","State":"Off","Flag":"Warning","Enabled":true,"SoftwareStatus":"TestStatus6","Role":"System","SubRole":"Storage","NID":9999999986,"NetType":"Ethernet","Arch":"ARM","Class":"Hill"}],"Force":false}
    response:
      #TODO: returns 204, Swagger says it will be 200
      status_code: 204
      #TODO: returns no response body, Swagger says it will have a response body

  # TODO. PATCH /State/Components/BulkStateData Nodes State Flag API response code
  # TODO. PATCH /State/Components/BulkStateData Nodes State Flag API response body
  - name: hsmAPIStateComponentsBulkStateDataPATCHnodesStateFlag - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/BulkStateData"
      method: PATCH
      verify: !bool "{verify}"
      #TODO: Example payload shows force option but Swagger doesn't explain what it does, Force=false seemed to only update the first node x9999c7s9b8n8
      #json: {"ComponentIDs":["x9999c7s9b8n8","x9999c7s9b8n7"],"State":"Standby","Flag":"Alert","Force":false}
      json: {"ComponentIDs":["x9999c7s9b8n8","x9999c7s9b8n7"],"State":"Standby","Flag":"Alert","Force":true}
    response:
      status_code: 204

  # TODO. GET /State/Components/{xname} Updated BulkStateData NodeA API response code
  # TODO. GET /State/Components/{xname} Updated BulkStateData NodeA API response body
  - name: hsmAPIStateComponentsGETxnameUpdatedBulkStateDataNodeA - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b8n8"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              ID:
                type: str
                required: True
                enum:
                  - "x9999c7s9b8n8"
              Type:
                type: str
                required: True
                enum:
                  - "Node"
              State:
                type: str
                required: True
                enum:
                  - "Standby"
              Flag:
                type: str
                required: True
                enum:
                  - "Alert"
              Enabled:
                type: bool
                required: True
                enum:
                  - true
              SoftwareStatus:
                type: str
                required: True
                enum:
                  - "TestStatus8"
              Role:
                type: str
                required: True
                enum:
                  - "Compute"
              SubRole:
                type: str
                required: True
                enum:
                  - "Master"
              NID:
                type: int
                required: True
                enum:
                  - 9999999988
              NetType:
                type: str
                required: True
                enum:
                  - "Sling"
              Arch:
                type: str
                required: True
                enum:
                  - "X86"
              Class:
                type: str
                required: True
                enum:
                  - "River"

  # TODO. GET /State/Components/{xname} Updated BulkStateData NodeB API response code
  # TODO. GET /State/Components/{xname} Updated BulkStateData NodeB API response body
  - name: hsmAPIStateComponentsGETxnameUpdatedBulkStateDataNodeB - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b8n7"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              ID:
                type: str
                required: True
                enum:
                  - "x9999c7s9b8n7"
              Type:
                type: str
                required: True
                enum:
                  - "Node"
              State:
                type: str
                required: True
                enum:
                  - "Standby"
              Flag:
                type: str
                required: True
                enum:
                  - "Alert"
              Enabled:
                type: bool
                required: True
                enum:
                  - true
              SoftwareStatus:
                type: str
                required: True
                enum:
                  - "TestStatus7"
              Role:
                type: str
                required: True
                enum:
                  - "Service"
              SubRole:
                type: str
                required: True
                enum:
                  - "Worker"
              NID:
                type: int
                required: True
                enum:
                  - 9999999987
              NetType:
                type: str
                required: True
                enum:
                  - "Infiniband"
              Arch:
                type: str
                required: True
                enum:
                  - "Other"
              Class:
                type: str
                required: True
                enum:
                  - "Mountain"

  # TODO. GET /State/Components/{xname} Non-Updated BulkStateData Node API response code
  # TODO. GET /State/Components/{xname} Non-Updated BulkStateData Node API response body
  - name: hsmAPIStateComponentsGETxnameNonUpdatedBulkStateDataNode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b8n6"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              ID:
                type: str
                required: True
                enum:
                  - "x9999c7s9b8n6"
              Type:
                type: str
                required: True
                enum:
                  - "Node"
              State:
                type: str
                required: True
                enum:
                  - "Off"
              Flag:
                type: str
                required: True
                enum:
                  - "Warning"
              Enabled:
                type: bool
                required: True
                enum:
                  - true
              SoftwareStatus:
                type: str
                required: True
                enum:
                  - "TestStatus6"
              Role:
                type: str
                required: True
                enum:
                  - "System"
              SubRole:
                type: str
                required: True
                enum:
                  - "Storage"
              NID:
                type: int
                required: True
                enum:
                  - 9999999986
              NetType:
                type: str
                required: True
                enum:
                  - "Ethernet"
              Arch:
                type: str
                required: True
                enum:
                  - "ARM"
              Class:
                type: str
                required: True
                enum:
                  - "Hill"

  # TODO. PATCH /State/Components/{xname}/StateData Node State No Flag API response code
  # TODO. PATCH /State/Components/{xname}/StateData Node State No Flag API response body
  - name: hsmAPIStateComponentsXnameStateDataPATCHnodeStateNoFlag - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/x9999c7s9b8n6/StateData"
      method: PATCH
      verify: !bool "{verify}"
      #TODO: Example payload shows force option but Swagger doesn't explain what it does, Force=false and Force=true seem to do the same thing here
      #json: {"State":"Ready","Flag":"OK","Force": false}
      json: {"State":"Ready","Force": true}
    response:
      status_code: 204

  # TODO. GET /State/Components?stateonly=True Updated Node API response code
  # TODO. GET /State/Components?stateonly=True Updated Node API response body
  - name: hsmAPIStateComponentsGETstateonlyParamUpdatedNode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?id=x9999c7s9b8n6&stateonly=True"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b8n6"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      State:
                        type: str
                        required: True
                        enum:
                          - "Ready"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"

  # TODO. GET /State/Components?flagonly=True Updated Node API response code
  # TODO. GET /State/Components?flagonly=True Updated Node API response body
  - name: hsmAPIStateComponentsGETflagonlyParamUpdatedNode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?id=x9999c7s9b8n6&flagonly=True"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b8n6"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      Flag:
                        type: str
                        required: True
                        enum:
                          - "OK"

# TODO. GET /State/Components?roleonly=True Updated Node API response code
# TODO. GET /State/Components?roleonly=True Updated Node API response body
  - name: hsmAPIStateComponentsGETroleonlyParamUpdatedNode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?id=x9999c7s9b8n6&roleonly=True"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b8n6"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      Role:
                        type: str
                        required: True
                        enum:
                          - "System"
                      SubRole:
                        type: str
                        required: True
                        enum:
                          - "Storage"

  # TODO. GET /State/Components?nidonly=True Updated Node API response code
  # TODO. GET /State/Components?nidonly=True Updated Node API response body
  - name: hsmAPIStateComponentsGETnidonlyParamUpdatedNode - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components?id=x9999c7s9b8n6&nidonly=True"
      method: GET
      verify: !bool "{verify}"
    response:
      status_code: 200
      verify_response_with:
        function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: map
            required: True
            mapping:
              Components:
                type: seq
                matching: all
                required: True
                sequence:
                  - type: map
                    required: True
                    mapping:
                      ID:
                        type: str
                        required: True
                        enum:
                          - "x9999c7s9b8n6"
                      Type:
                        type: str
                        required: True
                        enum:
                          - "Node"
                      NID:
                        type: int
                        required: True
                        enum:
                          - 9999999986

  # TODO. PATCH /State/Components/BulkFlagOnly Nodes API response code
  # TODO. PATCH /State/Components/BulkFlagOnly Nodes API response body
  - name: hsmAPIStateComponentsBulkFlagOnlyPATCHnodes - TODO
    request:
      url: "{hsm_base_url}/hsm/v2/State/Components/BulkFlagOnly"
      method: PATCH
      verify: !bool "{verify}"
      json: {"ComponentIDs":["x9999c7s9b8n7","x9999c7s9b8n6"],"Flag":"Warning"}
    response:
      status_code: 204

# TODO. GET /State/Components/{xname} Updated BulkFlagOnly NodeA API response code
# TODO. GET /State/Components/{xname} Updated BulkFlagOnly NodeA API response body
# TODO. GET /State/Components/{xname} Updated BulkFlagOnly NodeB API response code
# TODO. GET /State/Components/{xname} Updated BulkFlagOnly NodeB API response body
# TODO. GET /State/Components/{xname} Non-Updated BulkFlagOnly Node API response code
# TODO. GET /State/Components/{xname} Non-Updated BulkFlagOnly Node API response body
